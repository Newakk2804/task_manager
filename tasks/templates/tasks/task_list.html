{% extends "base.html" %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="h3">–ú–æ–∏ –∑–∞–¥–∞—á–∏</h1>
  <a class="btn btn-primary" href="{% url 'task_create' %}">‚ûï –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</a>
</div>

{% if tasks %}
<div class="table-responsive">
  <table class="table table-hover align-middle">
    <thead class="table-light">
      <tr>
        <th>–ó–∞–≥–æ–ª–æ–≤–æ–∫</th>
        <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
        <th>–°—Ä–æ–∫</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th class="text-end">–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
      <tr class="{% if task.completed %}table-success{% endif %}">
        <td>
          <a href="{% url 'task_detail' task.pk %}" class="text-decoration-none"
            >{{ task.title }}</a
          >
        </td>
        <td>{{ task.get_priority_display }}</td>
        <td>{{ task.due_date|default:"‚Äî" }}</td>
        <td>
          {% if task.completed %}
          <span class="badge bg-success">–í—ã–ø–æ–ª–Ω–µ–Ω–∞</span>
          {% else %}
          <span class="badge bg-warning text-dark">–ê–∫—Ç–∏–≤–Ω–∞</span>
          {% endif %}
        </td>
        <td class="text-end">
          <a href="{% url 'task_update' task.pk %}" class="btn btn-sm btn-outline-primary">‚úèÔ∏è</a>
          <a href="{% url 'task_delete' task.pk %}" class="btn btn-sm btn-outline-danger">üóë</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% if is_paginated %}
<nav>
  <ul class="pagination justify-content-center">
    {% if page_obj.has_previous %}
    <li class="page-item">
      <a class="page-link" href="?page={{ page_obj.previous_page_number }}">¬´</a>
    </li>
    {% endif %}
    <li class="page-item disabled">
      <span class="page-link"
        >–°—Ç—Ä. {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}</span
      >
    </li>
    {% if page_obj.has_next %}
    <li class="page-item">
      <a class="page-link" href="?page={{ page_obj.next_page_number }}">¬ª</a>
    </li>
    {% endif %}
  </ul>
</nav>
{% endif %} {% else %}
<div class="alert alert-info">
  –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á. <a href="{% url 'task_create' %}">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é</a>.
</div>
{% endif %} {% endblock %}
